<!DOCTYPE html>
<html lang="en-us" ng-app="App">
<head>
  <meta charset="UTF-8">
  <title>Angular-qr-scanner demo by sembrestels</title>
</head>
<body>

  <section class="main-content">

    <h2>Demo</h2>
    <p>Enable the camera and scan a QR code.</p>

    <div ng-controller="qrCrtl">
      <p><label>Data:</label> {{data}}</p>
      <p><label>Error:</label> {{error}}</p>
      <qr-scanner ng-if="teste" width="400" height="300" ng-success="onSuccess(data)" ng-error="onError(error)" />
    </div>

  </section>

  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="qr-scanner.js"></script>
  <script src="jsqrcode-combined.min.js"></script>
  <script>

    var App = angular.module('App', ['qrScanner']);

    App.controller('qrCrtl', ['$scope' , '$http', '$q', '$timeout', function($scope, $http, $q, $timeout) {
      
      $scope.teste = true;

      $scope.onSuccess = function(data) {
        console.log(data);
        $timeout(function(){}, 3000);      
        console.log("terminou");
        $scope.data = data;
      };
      $scope.onError = function(error) {
        console.log(error);
        $scope.error = error;
      };
      $scope.onVideoError = function(error) {
        console.log(error);
        $scope.error = error;
      };
    }]);

  </script>
</body>
</html>